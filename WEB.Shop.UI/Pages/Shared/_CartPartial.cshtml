@model IEnumerable<Shop.Application.Cart.GetCart.Response>
@using WEB.Shop.Domain.Extensions;


<div class="container-fluid" id="cart-main">
    <h2 class="text-center">Dodaj produkty do koszyka i porównaj ich ceny!</h2>
    <div class="row mb-5">

        <div class="col-12  text-center ">

            <div>
                <i class="mb-2 mt-5 fa fa-shopping-cart text-warning" style="font-size:70px"></i>
                <h5 class="pt-2 mt-2 text-danger">Twój koszyk: @Model.Sum(x => x.TotalValue).MonetaryValue()</h5>

            </div>
            <div class="row">
                <div class="col-12 text-center  ">

                    <a asp-page="/MainProducts" class="btn btn-warning pt-2 ml-4 mt-5 button is-text">Szukaj dalej!</a>
                </div>
                <!--  @if (Model.Count() > 0)
                                    {<div class="col-6 text-center">
                                            <a asp-page="/Checkout/Payment" class="btn btn-warning pt-2 ml-4 mt-5 is-success">Przelicz koszyk</a>
                                        </div>
                                    }
                -->

            </div>

        </div>
        <div class="col-4">

        </div>
    </div>


    <!--
        @foreach (var product in Model)
        {
    <div class="row level">
        <div class="col-md-12 ">
            <div class="card mb-4 mt-4">
                <header class="cart-header mb-2 pt-4">
                </header>

                <div class="level-item">
                    <h4 class="pt-2 title text-center ">
                        @product.Name
                    </h4>
                    <p class="subtitle">
                    </p>
                </div>

                <div class="row">
                    <div class="col-12 level-item ">
                        <div class="row">

                            <div class="col-4 column is-4 text-center">
                                <button class="button btn btn-warning"
                                        type="button"
                                        onclick="removeOneFromCart(event)"
                                        data-stock-id="@product.StockId">
                                    -
                                </button>
                            </div>

                            <div class="col-4 column is-4 align-self-center text-center"
                                 id="stock-quantity-@product.StockId">
                                <p>@product.Quantity</p>
                            </div>

                            <div class=" col-4 column is-4 text-center">
                                <button class="button btn btn-warning"
                                        type="button"
                                        onclick="addOneToCart(event)"
                                        data-stock-id="@product.StockId">
                                    +
                                </button>
                            </div>
                        </div>

                        <hr />
                        <div class="column is-12 text-center">
                            <a class=" has-text-danger btn btn-warning pt-2 mt-2 mb-2"
                               onclick="removeAllFromCart(event)"
                               data-stock-id="@product.StockId">Usuń z koszyka!</a>
                        </div>
                    </div>
                </div>
                <hr />
                <div class="level-item pt-2 text-center ">
                    <h5 class="pt-2 mb-5 text-danger">@product.TotalValueDisplay</h5>
                    <hr />
                </div>
            </div>
        </div>


        <div class="col-6  text-center ">



                </div>
            </div>
        }-->


    <div class="table-container">


        <table class="table table-striped table-hover">
            <thead class="text-center">
                <tr>
                    <th>Nazwa produktu</th>
                    <th>Cena</th>
                    <th>Ilość</th>
                    <th>Usuń z koszyka</th>
                </tr>
            </thead>
            @foreach (var product in Model)
            {
                <tbody>
                    <tr>
                        <td>
                            <div class="level-item">
                                <p class="pt-2 mt-2 mb-2 title text-center ">
                                    @product.Name
                                </p>
                                <p class="subtitle">
                                </p>
                            </div>
                        </td>
                        <td>
                            <div class="level-item pt-2 text-center ">
                                <p class="pt-2 mt-2 mb-2 text-danger">@product.TotalValueDisplay</p>

                            </div>
                        </td>
                        <td>
                            <div class="row">
                                <div class="col-12 level-item ">
                                    <div class="row">

                                        <div class="col-4 column is-4 text-center pt-2 mt-2 mb-2">
                                            <button class="button btn btn-warning"
                                                    type="button"
                                                    onclick="removeOneFromCart(event)"
                                                    data-stock-id="@product.StockId">
                                                -
                                            </button>
                                        </div>

                                        <div class="col-4 column is-4 align-self-center text-center pt-2 mt-2 mb-2"
                                             id="stock-quantity-@product.StockId">
                                            <p>@product.Quantity</p>
                                        </div>

                                        <div class=" col-4 column is-4 text-center pt-2 mt-2 mb-2">
                                            <button class="button btn btn-warning"
                                                    type="button"
                                                    onclick="addOneToCart(event)"
                                                    data-stock-id="@product.StockId">
                                                +
                                            </button>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </td>
                        <td>

                            <div class="column is-12 text-center">
                                <a class=" has-text-danger btn btn-warning pt-2 mt-2 mb-2"
                                   onclick="removeAllFromCart(event)"
                                   data-stock-id="@product.StockId">Usuń z koszyka!</a>
                            </div>
                        </td>
                    </tr>
                </tbody>
            }

        </table>
    </div>


</div>